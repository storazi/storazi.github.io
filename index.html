<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Í≤ΩÌóòÏπò Í≥ÑÏÇ∞Í∏∞</title>
<style>
  :root{
    --bg:#0b1220; --panel:#121a2b; --soft:#1c2538; --ring:#24324b;
    --text:#eaf2ff; --muted:#a9b5cc; --accent:#6aa0ff;
    --ok:#36d17b; --warn:#ffbd4a; --bad:#ff6b81;
    --chip:#1a2233; --input:#0e1626;
  }
  *{box-sizing:border-box;transition:all .15s ease-in-out;}
  body{
    margin:0;background:var(--bg);color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Apple SD Gothic Neo,sans-serif;
    display:flex;justify-content:center;align-items:center;
    min-height:100vh;padding:20px;
  }

  .wrapper{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap:20px;
    width:100%;
    max-width:1100px;
  }

  .card{
    background:linear-gradient(180deg,#121a2b 0%,#0e1626 100%);
    border:1px solid var(--ring);border-radius:20px;
    padding:24px;box-shadow:0 10px 25px rgba(0,0,0,.3);
  }

  h2{text-align:center;margin-bottom:18px;font-size:clamp(18px,2vw,22px);}
  .row{display:grid;grid-template-columns:1fr;gap:6px;margin:10px 0;}
  label{color:var(--muted);font-size:clamp(13px,1.6vw,14px);}
  input{
    width:100%;background:var(--input);color:var(--text);
    border:1px solid var(--ring);border-radius:12px;
    padding:10px 12px;font-size:clamp(14px,1.7vw,15px);
  }
  .btn{
    background:linear-gradient(180deg,#6aa0ff,#3d76e6);
    color:#fff;border:none;border-radius:12px;
    padding:10px 14px;font-weight:700;cursor:pointer;
    font-size:clamp(14px,1.7vw,15px);
  }
  .btn.ghost{background:transparent;border:1px solid var(--ring);}
  .row.buttons{display:flex;justify-content:center;gap:10px;margin-top:14px;}
  .results{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    gap:12px;margin-top:18px;
  }
  .stat{
    background:var(--soft);border:1px solid var(--ring);
    border-radius:14px;padding:12px;text-align:center;
  }
  .stat small{display:block;color:var(--muted);font-size:clamp(12px,1.5vw,13px);}
  .stat strong{display:block;margin-top:4px;font-size:clamp(16px,2vw,18px);}
</style>
</head>
<body>

<div class="wrapper">
  <!-- ‚¨Ö ÏôºÏ™Ω: Î†àÎ≤®ÏóÖ Í≥ÑÏÇ∞Í∏∞ -->
  <div class="card">
    <h2>Î†àÎ≤®ÏóÖ Í≥ÑÏÇ∞Í∏∞</h2>
<div class="row"><label>ÌòÑÏû¨ Î†àÎ≤®</label><input id="currentLevel" type="number" /></div>
<div class="row"><label>ÌòÑÏû¨ ÏßÑÌñâÎèÑ(%)</label><input id="currentPercent" type="number" min="0" max="100" placeholder="Ïòà: 45" /></div>
<div class="row"><label>Î™©Ìëú Î†àÎ≤®</label><input id="targetLevel" type="number"/></div>
<div class="row"><label>ÏãúÍ∞ÑÎãπ ÌöçÎìù Í≤ΩÌóòÏπò</label><input id="xpPerHour" type="number" /></div>
<div class="row buttons">
  <button class="btn" id="run">Í≥ÑÏÇ∞</button>
  <button class="btn ghost" id="reset">Ï¥àÍ∏∞Ìôî</button>
</div>
<div class="results" id="results" hidden>
  <div class="stat"><small>ÎÇ®ÏùÄ Í≤ΩÌóòÏπò</small><strong id="statRemain">-</strong></div>
  <div class="stat"><small>ÏòàÏÉÅ ÏãúÍ∞Ñ</small><strong id="statHours">-</strong></div>
  <div class="stat"><small>ÏòàÏÉÅ ÏùºÏàò</small><strong id="statDays">-</strong></div>
    </div>
  </div>




  <!-- ‚û° Ïò§Î•∏Ï™Ω: ÏãúÍ∞ÑÎãπ Í≤ΩÌóòÏπò Í≥ÑÏÇ∞Í∏∞ -->
  <div class="card">
    <h2>ÏãúÍ∞ÑÎãπ Í≤ΩÌóòÏπò Í≥ÑÏÇ∞Í∏∞</h2>
    <div class="row"><label>ÏãúÏûë Í≤ΩÌóòÏπò</label><input id="startXP" type="number" /></div>
    <div class="row"><label>Ï¢ÖÎ£å Í≤ΩÌóòÏπò</label><input id="endXP" type="number" /></div>
    <div class="row"><label>Í≤ΩÍ≥º ÏãúÍ∞Ñ(Ï¥à Îã®ÏúÑ)</label><input id="elapsedSec" type="number" /></div>
    <div class="row buttons"><button class="btn" id="calcRate">Í≥ÑÏÇ∞</button></div>
    <div class="results" id="rateResult" hidden>
      <div class="stat"><small>ÏãúÍ∞ÑÎãπ Í≤ΩÌóòÏπò</small><strong id="statRate">-</strong></div>
    </div>
  </div>
</div>

<script id="embedded-data" type="application/json">{
  "levels": [
  {"level":0,"cum":0},{"level":1,"cum":2},{"level":2,"cum":6},{"level":3,"cum":17},{"level":4,"cum":37},
  {"level":5,"cum":67},{"level":6,"cum":111},{"level":7,"cum":169},{"level":8,"cum":247},{"level":9,"cum":344},
  {"level":10,"cum":464},{"level":11,"cum":609},{"level":12,"cum":783},{"level":13,"cum":985},{"level":14,"cum":1221},
  {"level":15,"cum":1491},{"level":16,"cum":1799},{"level":17,"cum":2145},{"level":18,"cum":2535},{"level":19,"cum":2968},
  {"level":20,"cum":3448},{"level":21,"cum":3977},{"level":22,"cum":4559},{"level":23,"cum":5193},{"level":24,"cum":5885},
  {"level":25,"cum":6635},{"level":26,"cum":7447},{"level":27,"cum":8321},{"level":28,"cum":9263},{"level":29,"cum":10272},
  {"level":30,"cum":11352},{"level":31,"cum":12506},{"level":32,"cum":13734},{"level":33,"cum":15042},{"level":34,"cum":16429},
  {"level":35,"cum":17899},{"level":36,"cum":19454},{"level":37,"cum":21098},{"level":38,"cum":22830},{"level":39,"cum":24656},
  {"level":40,"cum":26576},{"level":41,"cum":28594},{"level":42,"cum":30710},{"level":43,"cum":32930},{"level":44,"cum":35253},
  {"level":45,"cum":37683},{"level":46,"cum":40222},{"level":47,"cum":42874},{"level":48,"cum":45638},{"level":49,"cum":48520},
  {"level":50,"cum":51520},{"level":51,"cum":54642},{"level":52,"cum":57886},{"level":53,"cum":61258},{"level":54,"cum":64757},
  {"level":55,"cum":68387},{"level":56,"cum":72150},{"level":57,"cum":76050},{"level":58,"cum":80086},{"level":59,"cum":84264},
  {"level":60,"cum":106110},{"level":61,"cum":113412},{"level":62,"cum":121149},{"level":63,"cum":129352},{"level":64,"cum":138044},
  {"level":65,"cum":147256},{"level":66,"cum":157019},{"level":67,"cum":167366},{"level":68,"cum":178334},{"level":69,"cum":189958},
  {"level":70,"cum":202282},{"level":71,"cum":215348},{"level":72,"cum":229205},{"level":73,"cum":243901},{"level":74,"cum":259495},
  {"level":75,"cum":276041},{"level":76,"cum":293606},{"level":77,"cum":312258},{"level":78,"cum":332071},{"level":79,"cum":353126},
  {"level":80,"cum":375511},{"level":81,"cum":399318},{"level":82,"cum":424655},{"level":83,"cum":451631},{"level":84,"cum":480370},
  {"level":85,"cum":511007},{"level":86,"cum":543686},{"level":87,"cum":578571},{"level":88,"cum":616838},{"level":89,"cum":655680},
  {"level":90,"cum":698312},{"level":91,"cum":743970},{"level":92,"cum":795918},{"level":93,"cum":842442},{"level":94,"cum":901869},
  {"level":95,"cum":962553},{"level":96,"cum":1026899},{"level":97,"cum":1098354},{"level":98,"cum":1174419},{"level":99,"cum":1256664},
  {"level":100,"cum":1407463},{"level":101,"cum":1576358},{"level":102,"cum":1765521},{"level":103,"cum":1977384},{"level":104,"cum":2214670},
  {"level":105,"cum":2480430},{"level":106,"cum":2778082},{"level":107,"cum":3111451},{"level":108,"cum":3484825},{"level":109,"cum":3903005},
  {"level":110,"cum":4371365},{"level":111,"cum":4895929},{"level":112,"cum":5483440},{"level":113,"cum":6141453},{"level":114,"cum":6878428},
  {"level":115,"cum":7703839},{"level":116,"cum":8628300},{"level":117,"cum":9663695},{"level":118,"cum":10823339},{"level":119,"cum":12122140},
  {"level":120,"cum":13576796},{"level":121,"cum":15206012},{"level":122,"cum":17030733},{"level":123,"cum":19074421},{"level":124,"cum":21363352},
  {"level":125,"cum":23926954},{"level":126,"cum":26798189},{"level":127,"cum":30013971},{"level":128,"cum":33615648},{"level":129,"cum":37649526},
  {"level":130,"cum":42167469},{"level":131,"cum":47227565},{"level":132,"cum":52894873},{"level":133,"cum":59242257},{"level":134,"cum":66351328},
  {"level":135,"cum":74313488},{"level":136,"cum":83231106},{"level":137,"cum":93218839},{"level":138,"cum":104405100},{"level":139,"cum":116933712},
  {"level":140,"cum":116981000}
]
}</script>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const $ = s=>document.querySelector(s);
  const fmt = n=>isFinite(n)?Number(n).toLocaleString():'-';

  // üìò ÏöîÍµ¨ Í≤ΩÌóòÏπò ÌÖåÏù¥Î∏î (Í∞Å Î†àÎ≤® ‚Üí Îã§Ïùå Î†àÎ≤®)
  const EXP_TABLE = {
    0:0,1:2,2:6,3:17,4:37,5:67,6:111,7:169,8:247,9:344,10:464,11:609,12:783,13:985,14:1221,
    15:1491,16:1799,17:2145,18:2535,19:2968,20:3448,21:3977,22:4559,23:5193,24:5885,25:6635,
    26:7447,27:8321,28:9263,29:10272,30:11352,31:12506,32:13734,33:15042,34:16429,35:17899,
    36:19454,37:21098,38:22830,39:24656,40:26576,41:28594,42:30710,43:32930,44:35253,45:37683,
    46:40222,47:42874,48:45638,49:48520,50:51520,51:54642,52:57886,53:61258,54:64757,55:68387,
    56:72150,57:76050,58:80086,59:84264,60:106110,61:113412,62:121149,63:129352,64:138044,
    65:147256,66:157019,67:167366,68:178334,69:189958,70:202282,71:215348,72:229205,73:243901,
    74:259495,75:276041,76:293606,77:312258,78:332071,79:353126,80:375511,81:399318,82:424655,
    83:451631,84:480370,85:511007,86:543686,87:578571,88:616838,89:655680,90:698312,91:743970,
    92:795918,93:842442,94:901869,95:962553,96:1026899,97:1098354,98:1174419,99:1256664,
    100:1407463,101:1576358,102:1765521,103:1977384,104:2214670,105:2480430,106:2778082,
    107:3111451,108:3484825,109:3903005,110:4371365,111:4895929,112:5483440,113:6141453,
    114:6878428,115:7703839,116:8628300,117:9663695,118:10823339,119:12122140,120:13576796,
    121:15206012,122:17030733,123:19074421,124:21363352,125:23926954,126:26798189,127:30013971,
    128:33615648,129:37649526,130:42167469,131:47227565,132:52894873,133:59242257,134:66351328,
    135:74313488,136:83231106,137:93218839,138:104405100,139:116933712
  };

  const getTotalExp = (start, target)=>{
    let sum=0;
    for(let lv=start; lv<target; lv++){
      if(EXP_TABLE[lv]) sum += EXP_TABLE[lv];
      else throw new Error(`Î†àÎ≤® ${lv} Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå`);
    }
    return sum;
  };

  $('#run').addEventListener('click',()=>{
    try{
      const currLv = Number($('#currentLevel').value);
      const currPct = Number($('#currentPercent').value)||0;
      const targetLv = Number($('#targetLevel').value);
      const perHour = Number($('#xpPerHour').value);
      if(!currLv||!targetLv||!perHour)
        throw new Error('Î†àÎ≤®Í≥º ÏãúÍ∞ÑÎãπ Í≤ΩÌóòÏπòÎ•º Î™®Îëê ÏûÖÎ†•ÌïòÏÑ∏Ïöî.');
      if(targetLv<=currLv)
        throw new Error('Î™©Ìëú Î†àÎ≤®ÏùÄ ÌòÑÏû¨Î≥¥Îã§ Ïª§Ïïº Ìï©ÎãàÎã§.');

      // ÌòÑÏû¨ Î†àÎ≤® ÏßÑÌñâÎèÑ Î∞òÏòÅ
      const remainFromCurr = EXP_TABLE[currLv]*(1-(currPct/100));
      const remainAfterCurr = getTotalExp(currLv+1,targetLv);
      const remain = remainFromCurr + remainAfterCurr;

      const hours = remain / perHour;
      const days = hours / 24;
      const h = Math.floor(hours);
      const m = Math.round((hours - h) * 60);

      $('#statRemain').textContent = fmt(remain.toFixed(0));
      $('#statHours').textContent = `${h}ÏãúÍ∞Ñ ${m}Î∂Ñ`;
      $('#statDays').textContent = days.toFixed(2)+' Ïùº';
      $('#results').hidden = false;
    }catch(e){alert(e.message);}
  });

  $('#reset').addEventListener('click',()=>{
    document.querySelectorAll('input').forEach(i=>i.value='');
    $('#results').hidden=true;$('#rateResult').hidden=true;
  });

  $('#calcRate').addEventListener('click',()=>{
    try{
      const start=Number($('#startXP').value);
      const end=Number($('#endXP').value);
      const sec=Number($('#elapsedSec').value);
      if(!start||!end||!sec) throw new Error("ÏãúÏûë, Ï¢ÖÎ£å Í≤ΩÌóòÏπòÏôÄ ÏãúÍ∞ÑÏùÑ Î™®Îëê ÏûÖÎ†•ÌïòÏÑ∏Ïöî.");
      const gained=end-start;
      const rate=(gained/sec)*3600;
      $('#statRate').textContent=fmt(rate.toFixed(0));
      $('#rateResult').hidden=false;
    }catch(e){alert(e.message);}
  });
});
</script>
